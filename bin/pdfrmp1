#!/usr/bin/env bash

message () {
	cat << EOF
usage: $(basename $0) [file.pdf]
description: remove first page of pdf
EOF
}

[[ $# -lt 1 ]] && {
	message >&2
	exit 1
}

temp=".temp-$(date '+%X-%F').pdf"
pages=$( pdfinfo "$1" | awk -F : '/Pages/ { print $2 ; exit }' | xargs )

pdfsplit "$1" 2 "$pages" "$temp"

[[ -f "$temp" ]] && {
	rm "$1"
	mv "$temp" "$1"
	exit 0
}

echo "$(basename $0): an error occurred." >&2
exit 1
